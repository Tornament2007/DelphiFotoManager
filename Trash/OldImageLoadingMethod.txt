if FileExists(FileName) then
  Try
    Image1.visible:=True;
    Image1.Picture.Bitmap.FreeImage;
   {and  (FileEXT<>'.tif')
    and  (FileEXT<>'.tiff')
    and  (FileEXT<>'.tga')
    {raw
    от Никона (*.NEF),
    от Canon PowerShot G2 (.CRW),
    от компактов Canon (через CHDK) - *.CRW, *.DNG}
    Try
      tv_Indx:=ansiIndexText(FileEXT ,['.jpeg', '.jpg', '.jpe', '.jfif','.png','.gif','.bmp']);
      if (tv_Indx>-1) then
        if (tv_Indx<4) then
          tv_Indx:=0
        else
          tv_Indx:=tv_Indx-3;
    case tv_Indx of

   -1:Try
        mainform.SetStatus1('Load Other Format!');
        Image1.Picture.LoadFromFile(FileName);
        ImgH:=Image1.Picture.Height;
        ImgW:=Image1.Picture.Width;
      except

      end;

    0:Try // JPEG
        jpg:=TJPEGImage.Create;
        jpg.LoadFromFile(FileName);
        ImgH:=jpg.Height;
        ImgW:=jpg.Width;

        Jpg.ProgressiveDisplay:=True; //CheckBox1.Checked

        If not (FastJEPGLoading1.Checked) then
        begin
          //jpg.Performance:=jpBestSpeed;
          //jpg.Performance:=jpBestQuality;
          jpg.JPEGNeeded;
        end
        else
        begin
          //jpg.Performance:=jpBestSpeed;
          //jpg.Performance:=jpBestQuality;
          jpg.DIBNeeded;
        end;

        //assignASbmp(jpg);
        Image1.Picture.Assign(jpg);
      Finally
        jpg.Free;
      End;

    1:Try // PNG
        png := TPNGObject.Create;
        png.LoadFromFile(FileName);
        ImgH:=png.Height;
        ImgW:=png.Width;

        //assignASbmp(png);
        Image1.Picture.Assign(png);
      Finally
        png.Free;
      End;

    2:Try // GIF
        Gif := TGIFImage.Create;
        Gif.LoadFromFile(FileName);
        ImgH:=Gif.Height;
        ImgW:=Gif.Width;

        //assignASbmp(Gif);
        Image1.Picture.Assign(Gif);
      Finally
        Gif.Free;
      End;

    3:Try // BMP
        bmp := TBitmap.Create;
        bmp.LoadFromFile(FileName);
        ImgH:=bmp.Height;
        ImgW:=bmp.Width;

        image1.Picture.Bitmap.LoadFromFile(FileName);
      Finally
        bmp.Free;
      End;

    end;
    Except
      on E: EInvalidGraphic do ShowMessage ('Ошибка загрузки');
      on E: EConvertError do ShowMessage ('Ошибка конвертирования');
      else ShowMessage ('Прочие ошибки: ' + #13 + Exception(ExceptObject).Message);
      Image1.visible:=False;
      MainForm.SetStatus1(LangWL.Items[1],2000);
      StatusBar1.Panels[0].Text:=LangWL.Items[2];
      Image1.Hint:=LangWL.Items[4];
      JPG.Free;
      PNG.Free;
      GIF.Free;
      exit;
    End
  Finally
    StatusBar1.Panels[0].Text:=IntToStr(ImgH)+'x'+IntToStr(ImgW);
    //Self.Color:=Image1.Picture.Bitmap.Canvas.Pixels[Trunc(ImgW/2),Trunc(ImgH/2)];
  End
  else
  begin
    Image1.visible:=False;
    StatusBar1.Panels[0].Text:=LangWL.Items[3];
  end;